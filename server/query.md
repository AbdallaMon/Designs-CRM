CREATE TABLE FetchedTelegramMessage (
id INT AUTO_INCREMENT PRIMARY KEY,
clientLeadId INT NOT NULL,
messageId VARCHAR(255) NOT NULL,
fetchedAt DATETIME DEFAULT CURRENT_TIMESTAMP,
INDEX idx_clientLeadId (clientLeadId),
CONSTRAINT fk_clientLeadId FOREIGN KEY (clientLeadId) REFERENCES ClientLead(id)
);

ALTER TABLE FetchedTelegramMessage
MODIFY COLUMN messageId INT;

CREATE TABLE LessonVideoPdf (
id INT AUTO_INCREMENT PRIMARY KEY,
videoId INT NOT NULL,
title VARCHAR(255) NOT NULL,
url TEXT NOT NULL,
uploadedAt DATETIME DEFAULT CURRENT_TIMESTAMP,
CONSTRAINT fk_video FOREIGN KEY (videoId) REFERENCES LessonVideo(id)
ON DELETE CASCADE
);
